<!DOCTYPE html>
<html>
  <head>
    <title>Add Book</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <%- include("partials/navbar", { showSort: false }) %>

    <div class="form-container">
      <h1>Add a New Book</h1>
      <% if (error === "duplicate") { %>
      <p style="color: red">⚠️ This ISBN already exists in your library.</p>
      <% } %>

      <form method="POST" action="/add" class="add-form">
        <div class="form-group">
          <label for="isbn">ISBN</label>
          <input type="text" id="isbn" name="isbn" required />
        </div>

        <div class="form-group">
          <label>Rating</label>
          <div class="rating">
            <% for(let i = 5; i >= 1; i--) { %>
            <input
              type="radio"
              id="star<%= i %>"
              name="rating"
              value="<%= i %>"
            />
            <label for="star<%= i %>">★</label>
            <% } %>
          </div>
        </div>

        <div class="form-group">
          <label>Genre</label>
          <select name="genre">
            <option value="">Auto-detect</option>
            <option value="Programming">Programming</option>
            <option value="AI">AI</option>
            <option value="History">History</option>
            <option value="Novel">Novel</option>
          </select>
        </div>

        <div class="form-group">
          <label for="notes">Notes</label>
          <textarea id="notes" name="notes" rows="3"></textarea>
        </div>

        <button type="submit" class="btn-primary">Add Book</button>
      </form>
    </div>
  </body>
</html>
